package dao;

import java.util.ArrayList;
import java.util.List;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Repository;

import model.Carretera;

@Repository
public class CarreteraDaoImpl implements CarreteraDao{

	private static final Logger logger = LoggerFactory.getLogger(CarreteraDaoImpl.class);


	private SessionFactory sessionFactory;

	public void setSessionFactory(SessionFactory sf){
		this.sessionFactory = sf;
	}

	@Override
	public void addPerson(Carretera c) {
		Session session = this.sessionFactory.getCurrentSession();
		session.persist(c);
		logger.info("Road saved successfully, Road Details="+c);


	}

	@Override
	public void updatePerson(Carretera c) {
		Session session = this.sessionFactory.getCurrentSession();
		session.update(c);
		logger.info("Person updated successfully, Person Details="+c);

	}

	@SuppressWarnings("unchecked")
	@Override
	public ArrayList<Carretera> listCarretera() {
		Session session = this.sessionFactory.getCurrentSession();
		List<Carretera> CarreteraList = session.createQuery("from Person").list();
		for(Carretera p : CarreteraList){
			logger.info("Person List::"+p);
		}
		return (ArrayList<Carretera>) CarreteraList;

	}


	@Override
	public void removeCarretera(int id) {
		Session session = this.sessionFactory.getCurrentSession();
		Carretera p = (Carretera) session.load(Carretera.class, id);
		if(null != p){
			session.delete(p);
		}
		logger.info("Carretera deleted successfully, Carretera details="+p);
	}




	@Override
	public Carretera getCarreteraById(int id) {
		Session session = this.sessionFactory.getCurrentSession();		
		Carretera p = (Carretera) session.load(Carretera.class, id);
		logger.info("Carretera loaded successfully, Carretera details="+p);
		return p;
	}

	

	

	

}
